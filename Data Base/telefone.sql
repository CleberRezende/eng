-- tb_TELEFONE


USE db_CARRO



 
-- CRIAR TELEFONE
IF EXISTS (SELECT * FROM SYS.objects WHERE OBJECT_ID = OBJECT_ID(N'SP_CRIAR_TELEFONE'))
	DROP PROCEDURE SP_CRIAR_TELEFONE
GO
CREATE PROCEDURE SP_CRIAR_TELEFONE

	@ID_CODIGO	INT,
	@TELEFONE	VARCHAR(50)

AS
BEGIN

	INSERT TELEFONE	(
							FK_CLI_CODIGO,	
							TEL_TELEFONE	
						)
	VALUES	(
				@ID_CODIGO,	
				@TELEFONE	
			)
END







-- EDITAR TELEFONE
IF EXISTS (SELECT * FROM SYS.objects WHERE OBJECT_ID = OBJECT_ID(N'SP_EDITAR_TELEFONE'))
	DROP PROCEDURE SP_EDITAR_TELEFONE
GO
CREATE PROCEDURE SP_EDITAR_TELEFONE

	@ID	INT,
	@TELEFONE	VARCHAR(50)

AS
BEGIN

	UPDATE TELEFONE	SET
						TEL_TELEFONE = @TELEFONE
	WHERE TEL_CODIGO = @ID

END







-- EXCLUIR TELEFONE
IF EXISTS (SELECT * FROM SYS.objects WHERE OBJECT_ID = OBJECT_ID(N'SP_EXCLUIR_TELEFONE'))
	DROP PROCEDURE SP_EXCLUIR_TELEFONE
GO
CREATE PROCEDURE SP_EXCLUIR_TELEFONE
	
	@ID				INT

AS
BEGIN
	
	DELETE FROM TELEFONE WHERE FK_CLI_CODIGO = @ID

END


